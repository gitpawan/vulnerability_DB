<%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%>
<!DOCTYPE html>
<head>
<meta charset="ISO-8859-1">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>

<link rel="stylesheet" type="text/css" href="style/style.css">
<link rel="stylesheet" type="text/css" href="font-awesome-4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="font-awesome-4.7.0/css/font-awesome.css">
<title>Vulnerability DB</title>
</head>
<body onload="loadDoc()">
<form action="add_data" method="post">
  <div class="container-fluid">

	<div class="row" style="margin-left:40px !important;"> 
	<div class="col-md-3">
    <div class="row"> <!-- header row -->
      <div class="col-md-12"><br>
        <h4>Add Vulnerability Data</h3><hr>
      </div> 
    </div><!-- end header row -->

    <div class="row">

      <div class="col-md-12">
        <div class="bordered">

          <div class="form-group">
            <label for="">Category</label>
            <input type="text" class="form-control form-control-sm" id="" name="category">
          </div>

          <div class="form-group">
            <label for="">Description</label>
            <textarea class="form-control" id="" name="descri"></textarea>
          </div>

          <div class="form-group">
            <label for="">References</label>
            <input type="text" class="form-control form-control-sm" id="" name="references">
          </div>

          <div class="form-group">
            <label for="">Remediation</label>
            <input type="text" class="form-control form-control-sm" id="" name="remediation">
          </div>

          <div class="form-group">
            <label for="">CWE-ID</label>
            <input type="text" class="form-control form-control-sm" id="" name="cwe">
          </div>

        </div>
      </div>
    </div>

    <div class="row"><!-- button row -->
      <div class="col-md-12"><hr>
        <button type="submit" onclick="loadDoc()" class="btn">Submit</button>
      </div>
    </div><!-- end button row -->
    </div><!-- end left container row -->
    
    <!-- <div class="col-md-1"></div>-->
    
    <div class="col-md-8" style="padding-left: 70px;"><br>
    <h4>Vulnerability Details</h3><hr>
    	<div>
    		<table class="table table-condensed">
			    <thead>
			      <tr>
			      	<th>
			      	Details
			      	        <button type="button" class="btn btn-default btn-sm" onclick="loadDoc()" style="float:right">
          						<i class="fa fa-chevron-up" aria-hidden="true"></i> Collapse All
        					</button>
			      	</th>
			      </tr>
			    </thead>
			    <tbody id="demo">
			     </tbody>
			</table>
    	</div>
		  
		<script>
			function loadDoc() {
  				var xhttp = new XMLHttpRequest();
  				xhttp.onreadystatechange = function() {
    				if (this.readyState == 4 && this.status == 200) {
      					document.getElementById("demo").innerHTML = this.responseText;
    				}
 				};
  			xhttp.open("POST", "/vulnerability_DB/ShowVulData", true);
  			xhttp.withCredentials = true;
  			xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
  			xhttp.send();
			}
		</script>   
    
    </div>
    
   </div>


  </div> <!-- END CONTAINER -->
</form>


<script>
function unhide(divID) {
    var item = document.getElementById(divID);
    if (item) {
      item.className=(item.className=='hidden')?'unhidden':'hidden';
    }
  }
</script>
<style>
	.hidden { display: none; }
	.unhidden { display: block; }
	a {
		text-decoration: none;
	}
</style>
</body>
</html>